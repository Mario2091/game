<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Neon Snake + RPS + Tic-Tac-Toe</title>
<style>
  body {
    background-color: black;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    text-align: center;
    color: #ff073a;
  }
  h1 {
    text-shadow: 0 0 10px #ff073a, 0 0 20px #007BFF, 0 0 30px #8000FF;
    margin-top: 10px;
  }
  .tab-buttons {
    margin: 20px;
  }
  button {
    background-color: black;
    border: 2px solid #ff073a;
    color: #ff073a;
    padding: 10px 20px;
    margin: 0 10px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    transition: 0.3s;
  }
  button:hover {
    background-color: #ff073a;
    color: black;
  }
  #rpsGame, #snakeGame, #ticTacToeContainer, #rpsPopup {
    display: none;
    max-width: 600px;
    margin: auto;
  }
  /* RPS Buttons */
  #rpsGame button.choice, #rpsPopup button.choice {
    font-size: 24px;
    margin: 5px;
    width: 90px;
    height: 90px;
    border-radius: 50%;
    border: 3px solid #ff073a;
    background: black;
    color: #ff073a;
    text-shadow: 0 0 10px #007BFF, 0 0 15px #8000FF;
  }
  #rpsGame button.choice:hover:not(:disabled),
  #rpsPopup button.choice:hover:not(:disabled) {
    background-color: #ff073a;
    color: black;
  }
  #result, #popupResult {
    margin: 20px;
    font-size: 20px;
    min-height: 40px;
    text-shadow: 0 0 10px #007BFF, 0 0 15px #8000FF, 0 0 20px #ff073a;
  }
  #computerChoiceDisplay, #popupComputerChoiceDisplay {
    margin-top: 10px;
    font-size: 18px;
  }
  #computerChoiceDisplay .icon, #popupComputerChoiceDisplay .icon {
    font-size: 50px;
  }
  #scores, #popupScores {
    font-size: 18px;
    margin-top: 10px;
  }
  #restartBtn, #rpsPopupRestartBtn {
    display: none;
    margin-top: 15px;
  }

  /* Snake Game */
  #snakeCanvas {
    background-color: black;
    border: 3px solid #ff073a;
    display: block;
    margin: 20px auto;
    box-shadow: 0 0 20px #007BFF, 0 0 30px #8000FF, 0 0 40px #ff073a;
  }
  #snakeScore {
    font-size: 22px;
    margin: 10px 0;
    text-shadow: 0 0 12px #007BFF,0 0 12px #8000FF;
  }
  #snakeRestartBtn {
    display: none;
    margin: 15px auto;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: black;
    border: 2px solid #ff073a;
    color: #ff073a;
    border-radius: 5px;
  }
  #snakeRestartBtn:hover {
    background-color: #ff073a;
    color: black;
  }

  /* Tic Tac Toe */
  #ticTacToeContainer {
    margin-top: 20px;
  }
  #ticTacToeGrid {
    display: grid;
    margin: auto;
    gap: 5px;
  }
  .tttCell {
    width: 80px;
    height: 80px;
    font-size: 50px;
    text-align: center;
    vertical-align: middle;
    cursor: pointer;
    border: 2px solid #ff073a;
    color: #ff073a;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: 0.3s;
  }
  .tttCell:hover {
    background-color: #007BFF;
    color: black;
    box-shadow: 0 0 10px #8000FF;
  }
</style>
</head>
<body>

<h1>Neon Snake + RPS + Tic-Tac-Toe</h1>
<div class="tab-buttons">
  <button id="btnRPS">RPSLS Game</button>
  <button id="btnSnake">Snake Game</button>
</div>

<!-- Main RPS Game -->
<div id="rpsGame">
  <div>
    <button class="choice" id="rock">‚úä<br>Rock</button>
    <button class="choice" id="paper">‚úã<br>Paper</button>
    <button class="choice" id="scissors">‚úåÔ∏è<br>Scissors</button>
    <button class="choice" id="lizard">ü¶é<br>Lizard</button>
    <button class="choice" id="spock">üññ<br>Spock</button>
    <button class="choice" id="snake">üêç<br>Snake</button>
  </div>
  <div id="result">Make your choice!</div>
  <div id="computerChoiceDisplay"></div>
  <div id="scores">
    Player: <span id="playerScore">0</span> | Computer: <span id="computerScore">0</span>
  </div>
  <div id="roundCounter">Round 0 of 5</div>
  <button id="restartBtn">Restart Game</button>
</div>

<!-- Snake Game -->
<div id="snakeGame">
  <canvas id="snakeCanvas" width="400" height="400"></canvas>
  <div id="snakeScore">Score: 0</div>
  <button id="snakeRestartBtn">Restart Snake Game</button>
  <p>Use arrow keys to move the hippo!</p>
</div>

<!-- RPS Popup for Snake -->
<div id="rpsPopup">
  <h2>RPS Challenge!</h2>
  <p>Select difficulty:</p>
  <button class="choice" id="easyAI">Easy</button>
  <button class="choice" id="normalAI">Normal</button>
  <button class="choice" id="hardAI">Hard</button>
  <div id="popupResult"></div>
  <div id="popupComputerChoiceDisplay"></div>
  <button id="rpsPopupRestartBtn">Restart RPS</button>
</div>

<!-- Tic Tac Toe Popup -->
<div id="ticTacToeContainer">
  <h2>Neon Tic-Tac-Toe</h2>
  <div>
    Grid size: <input type="number" id="gridSizeInput" min="3" max="6" value="3">
    <button id="setGridSizeBtn">Set Grid Size</button>
  </div>
  <div id="ticTacToeGrid"></div>
</div>

<script>
  // ----------------- Tab Switching -----------------
  const rpsDiv = document.getElementById('rpsGame');
  const snakeDiv = document.getElementById('snakeGame');
  const btnRPS = document.getElementById('btnRPS');
  const btnSnake = document.getElementById('btnSnake');

  btnRPS.addEventListener('click', ()=>{rpsDiv.style.display='block'; snakeDiv.style.display='none';});
  btnSnake.addEventListener('click', ()=>{rpsDiv.style.display='none'; snakeDiv.style.display='block';});

  // ----------------- Main RPS Logic -----------------
  let playerScore=0, computerScore=0, roundNumber=0;
  const maxRounds=5, winScore=3;
  const choices=['rock','paper','scissors','lizard','spock','snake'];
  const choiceIcons={rock:'‚úä',paper:'‚úã',scissors:'‚úåÔ∏è',lizard:'ü¶é',spock:'üññ',snake:'üêç'};
  const beats={rock:['scissors','snake'],paper:['rock','spock'],scissors:['paper','snake'],lizard:['paper','spock'],spock:['rock','scissors'],snake:['paper','lizard']};
  const interactionMessages={'rockscissors':'Rock crushes Scissors','rocksnake':'Rock crushes Snake','paperrock':'Paper covers Rock','paperspock':'Paper disproves Spock','scissorspaper':'Scissors cut Paper','scissorssnake':'Scissors decapitate Snake','lizardpaper':'Lizard eats Paper','lizardspock':'Lizard poisons Spock','spockrock':'Spock vaporizes Rock','spockscissors':'Spock smashes Scissors','snakepaper':'Snake bites Paper','snakelizard':'Snake bites Lizard'};
  const buttons=document.querySelectorAll('#rpsGame .choice');
  const resultDiv=document.getElementById('result');
  const playerScoreSpan=document.getElementById('playerScore');
  const computerScoreSpan=document.getElementById('computerScore');
  const roundCounter=document.getElementById('roundCounter');
  const restartBtn=document.getElementById('restartBtn');
  const computerChoiceDisplay=document.getElementById('computerChoiceDisplay');

  function computerPlay(){return choices[Math.floor(Math.random()*choices.length)];}
  function disableChoices(state){buttons.forEach(btn=>btn.disabled=state);}
  function updateScores(){playerScoreSpan.textContent=playerScore;computerScoreSpan.textContent=computerScore;}
  function updateRoundCounter(){roundCounter.textContent=`Round ${roundNumber} of ${maxRounds}`;}
  function showComputerChoice(choice){computerChoiceDisplay.innerHTML=`<div><div class="icon">${choiceIcons[choice]}</div><div>Computer chose ${choice.charAt(0).toUpperCase()+choice.slice(1)}</div></div>`;}
  function getInteractionMessage(winner,loser){return interactionMessages[winner+loser]||interactionMessages[loser+winner]||'';}
  function determineWinner(player,computer){if(player===computer)return'draw';if(beats[player].includes(computer))return'player';if(beats[computer].includes(player))return'computer';return'draw';}
  function playRound(playerChoice){
    disableChoices(true); roundNumber++; updateRoundCounter(); resultDiv.textContent="Computer is choosing..."; computerChoiceDisplay.innerHTML="";
    setTimeout(()=>{
      const computerChoice=computerPlay(); showComputerChoice(computerChoice);
      const winner=determineWinner(playerChoice,computerChoice);
      if(winner==='player'){playerScore++; resultDiv.textContent=`You Win! ${getInteractionMessage(playerChoice,computerChoice)}.`;}
      else if(winner==='computer'){computerScore++; resultDiv.textContent=`You Lose! ${getInteractionMessage(computerChoice,playerChoice)}.`;}
      else{resultDiv.textContent=`It's a Draw! Both chose ${playerChoice}.`;}
      updateScores();
      if(playerScore===winScore||computerScore===winScore||roundNumber>=maxRounds){endGame();}else{disableChoices(false);}
    },1200);
  }
  function endGame(){disableChoices(true); restartBtn.style.display='inline-block';}
  function resetRPSGame(){playerScore=0; computerScore=0; roundNumber=0; updateScores(); updateRoundCounter(); resultDiv.textContent="Make your choice!"; computerChoiceDisplay.innerHTML=""; disableChoices(false); restartBtn.style.display='none';}
  buttons.forEach(button=>button.addEventListener('click',()=>playRound(button.id)));
  restartBtn.addEventListener('click',resetRPSGame);
  resetRPSGame();

  // ----------------- Snake Logic -----------------
  const canvas=document.getElementById('snakeCanvas');
  const ctx=canvas.getContext('2d');
  const box=20;
  let snake=[{x:5*box,y:5*box}],direction='RIGHT',score=0,gameInterval,gameRunning=false,food={};
  let hippoImg=new Image(); hippoImg.src='https://i.imgur.com/yHPQPR2.png';
  let watermelonImg=new Image(); watermelonImg.src='https://i.imgur.com/zfXXAxN.png';

  function createFood(){food={x:Math.floor(Math.random()*(canvas.width/box))*box, y:Math.floor(Math.random()*(canvas.height/box))*box};}
  function draw(){
    ctx.fillStyle='black'; ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(watermelonImg,food.x,food.y,box,box);
    for(let i=0;i<snake.length;i++){
      if(i===0){ctx.drawImage(hippoImg,snake[i].x,snake[i].y,box,box);}
      else{ctx.fillStyle='#ff073a'; ctx.shadowColor='#007BFF'; ctx.shadowBlur=10; ctx.fillRect(snake[i].x,snake[i].y,box,box); ctx.shadowBlur=0;}
    }
    document.getElementById('snakeScore').textContent=`Score: ${score}`;
  }

  function update(){
    let headX=snake[0].x; let headY=snake[0].y;
    if(direction==='LEFT')headX-=box; else if(direction==='RIGHT')headX+=box;
    else if(direction==='UP')headY-=box; else if(direction==='DOWN')headY+=box;

    if(headX>=canvas.width)headX=0; else if(headX<0)headX=canvas.width-box;
    if(headY>=canvas.height)headY=0; else if(headY<0)headY=canvas.height-box;

    for(let i=0;i<snake.length;i++){if(snake[i].x===headX && snake[i].y===headY){gameOver(); return;}}

    let newHead={x:headX,y:headY};

    if(headX===food.x && headY===food.y){pauseForRPS();} else{snake.pop();}
    snake.unshift(newHead);
  }

  function gameLoop(){update(); draw();}
  function resetSnakeGame(){clearInterval(gameInterval); direction='RIGHT'; score=0; snake=[{x:5*box,y:5*box}]; createFood(); draw(); gameRunning=true; gameInterval=setInterval(gameLoop,120); document.getElementById('snakeRestartBtn').style.display='none';}
  function gameOver(){clearInterval(gameInterval); gameRunning=false; alert(`Game Over! Score: ${score}`); document.getElementById('snakeRestartBtn').style.display='inline-block';}
  window.addEventListener('keydown',e=>{if(!gameRunning)return;if(e.key==='ArrowLeft' && direction!=='RIGHT')direction='LEFT'; else if(e.key==='ArrowRight' && direction!=='LEFT')direction='RIGHT'; else if(e.key==='ArrowUp' && direction!=='DOWN')direction='UP'; else if(e.key==='ArrowDown' && direction!=='UP')direction='DOWN';});
  document.getElementById('snakeRestartBtn').addEventListener('click',resetSnakeGame);
  resetSnakeGame();

  // ----------------- RPS Popup Logic -----------------
  const rpsPopup=document.getElementById('rpsPopup');
  const popupResult=document.getElementById('popupResult');
  const popupComputerChoiceDisplay=document.getElementById('popupComputerChoiceDisplay');

  function pauseForRPS(){gameRunning=false; clearInterval(gameInterval); rpsPopup.style.display='block';}
  function resumeSnakeAfterRPS(){rpsPopup.style.display='none'; gameRunning=true; gameInterval=setInterval(gameLoop,120); score++; createFood(); draw();}

</script>
</body>
</html>
