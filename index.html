<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RPSLS & Hippo Snake</title>
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    #gameButtons button {
      margin: 5px;
      padding: 10px;
      font-size: 18px;
    }
    #snakeCanvas {
      background: black;
      border: 2px solid white;
      display: block;
      margin: 20px auto;
    }
    #snakeRestartBtn {
      display: none;
      padding: 10px;
      margin: 10px;
      font-size: 18px;
    }
    .tabButtons button {
      padding: 10px;
      margin: 5px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>Game Hub</h1>
  
  <div class="tabButtons">
    <button id="btnRPS">RPSLS Game</button>
    <button id="btnSnake">Hippo Snake</button>
  </div>

  <!-- RPSLS GAME -->
  <div id="rpsSection">
    <h2>Rock Paper Scissors Lizard Spock</h2>
    <div id="gameButtons">
      <button onclick="playRPS('rock')">Rock</button>
      <button onclick="playRPS('paper')">Paper</button>
      <button onclick="playRPS('scissors')">Scissors</button>
      <button onclick="playRPS('lizard')">Lizard</button>
      <button onclick="playRPS('spock')">Spock</button>
    </div>
    <p id="result"></p>
  </div>

  <!-- HIPPO SNAKE GAME -->
  <div id="snakeSection" style="display:none;">
    <h2>Hippo Snake</h2>
    <canvas id="snakeCanvas" width="400" height="400"></canvas>
    <p id="snakeScore">Score: 0</p>
    <button id="snakeRestartBtn">Restart Game</button>
  </div>

<script>
  // ---------------- RPSLS Game ----------------
  const choices = ["rock", "paper", "scissors", "lizard", "spock"];
  const rules = {
    rock: ["scissors", "lizard"],
    paper: ["rock", "spock"],
    scissors: ["paper", "lizard"],
    lizard: ["spock", "paper"],
    spock: ["scissors", "rock"]
  };

  function playRPS(playerChoice) {
    const compChoice = choices[Math.floor(Math.random() * choices.length)];
    let outcome = "";
    if (playerChoice === compChoice) {
      outcome = "It's a draw!";
    } else if (rules[playerChoice].includes(compChoice)) {
      outcome = `You win! ${playerChoice} beats ${compChoice}`;
    } else {
      outcome = `You lose! ${compChoice} beats ${playerChoice}`;
    }
    document.getElementById("result").textContent = outcome;
  }

  // ---------------- Hippo Snake Game ----------------
  const canvas = document.getElementById('snakeCanvas');
  const ctx = canvas.getContext('2d');
  const box = 20;

  let snake = [];
  let hippoImg = new Image();
  hippoImg.src = 'https://i.imgur.com/yHPQPR2.png';

  let watermelonImg = new Image();
  watermelonImg.src = 'https://i.imgur.com/zfXXAxN.png';

  let food = {};
  let direction = 'RIGHT';
  let score = 0;
  let gameInterval;
  let gameRunning = false;

  function createFood() {
    let valid = false;
    while (!valid) {
      food = {
        x: Math.floor(Math.random() * (canvas.width / box)) * box,
        y: Math.floor(Math.random() * (canvas.height / box)) * box
      };
      valid = !snake.some(seg => seg.x === food.x && seg.y === food.y);
    }
  }

  function draw() {
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.drawImage(watermelonImg, food.x, food.y, box, box);

    for (let i = 0; i < snake.length; i++) {
      if (i === 0) {
        ctx.drawImage(hippoImg, snake[i].x, snake[i].y, box, box);
      } else {
        ctx.fillStyle = '#ff073a';
        ctx.shadowColor = '#ff073a';
        ctx.shadowBlur = 8;
        ctx.fillRect(snake[i].x, snake[i].y, box, box);
        ctx.shadowBlur = 0;
      }
    }

    document.getElementById('snakeScore').textContent = `Score: ${score}`;
  }

  function update() {
    let headX = snake[0].x;
    let headY = snake[0].y;

    if (direction === 'LEFT') headX -= box;
    else if (direction === 'RIGHT') headX += box;
    else if (direction === 'UP') headY -= box;
    else if (direction === 'DOWN') headY += box;

    if (headX >= canvas.width) headX = 0;
    else if (headX < 0) headX = canvas.width - box;
    if (headY >= canvas.height) headY = 0;
    else if (headY < 0) headY = canvas.height - box;

    for (let i = 0; i < snake.length; i++) {
      if (snake[i].x === headX && snake[i].y === headY) {
        gameOver();
        return;
      }
    }

    let newHead = {x: headX, y: headY};

    if (headX === food.x && headY === food.y) {
      score++;
      createFood();
    } else {
      snake.pop();
    }

    snake.unshift(newHead);
  }

  function gameOver() {
    clearInterval(gameInterval);
    gameRunning = false;
    alert(`Game Over! Your score was: ${score}`);
    document.getElementById('snakeRestartBtn').style.display = 'inline-block';
  }

  function gameLoop() {
    update();
    draw();
  }

  function resetSnakeGame() {
    clearInterval(gameInterval);
    direction = 'RIGHT';
    score = 0;
    snake = [
      {x: box * 5, y: box * 5},
      {x: box * 4, y: box * 5},
      {x: box * 3, y: box * 5}
    ];
    createFood();
    document.getElementById('snakeRestartBtn').style.display = 'none';
    draw();
    gameRunning = true;
    gameInterval = setInterval(gameLoop, 120);
  }

  window.addEventListener('keydown', e => {
    if (!gameRunning) return;
    if (e.key === 'ArrowLeft' && direction !== 'RIGHT') direction = 'LEFT';
    else if (e.key === 'ArrowRight' && direction !== 'LEFT') direction = 'RIGHT';
    else if (e.key === 'ArrowUp' && direction !== 'DOWN') direction = 'UP';
    else if (e.key === 'ArrowDown' && direction !== 'UP') direction = 'DOWN';
  });

  document.getElementById('snakeRestartBtn').addEventListener('click', resetSnakeGame);

  // ---------------- Tab Switching ----------------
  const btnRPS = document.getElementById("btnRPS");
  const btnSnake = document.getElementById("btnSnake");
  const rpsSection = document.getElementById("rpsSection");
  const snakeSection = document.getElementById("snakeSection");

  function switchToRPS() {
    rpsSection.style.display = "block";
    snakeSection.style.display = "none";
    clearInterval(gameInterval);
    gameRunning = false;
  }

  function switchToSnake() {
    rpsSection.style.display = "none";
    snakeSection.style.display = "block";
    if (!gameRunning) resetSnakeGame();
  }

  btnRPS.addEventListener("click", switchToRPS);
  btnSnake.addEventListener("click", switchToSnake);

  // Start on RPS
  switchToRPS();
</script>
</body>
</html>
